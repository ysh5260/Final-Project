<%@ page language="java" contentType="text/html; charset=UTF-8"%>
<%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<!DOCTYPE html>
<html>
<head>
<style type="text/css">
.centered-radio {
	display: block;
	margin: 0 auto;
}
</style>
</head>
<body>
	<div class="modal fade bd-example-modal-lg" tabindex="-1"
		style="display: none;" aria-hidden="true" >
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">강의제목/교수들어가야됨</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal">
					</button>
				</div>
				<div class="modal-body">
					<div class="table-responsive">
						<table class="table table-bordered table-responsive-sm">
							<thead>
								<tr style="text-align: center;">
									<th colspan="6"><strong>설문항목</strong></th>
									<th><strong>매우만족</strong></th>
									<th><strong>만족</strong></th>
									<th><strong>보통</strong></th>
									<th><strong>불만족</strong></th>
									<th><strong>매우불만족</strong></th>
								</tr>
							</thead>
							<tbody>
								<tr class="eval">
									<td colspan="6"><strong>1. 강의 내용: 강의의 내용이 적절한가요?</strong></td>
									<td><input type="radio" name="evList[1]" value="5"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[1]" value="4"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[1]" value="3"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[1]" value="2"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[1]" value="1"
										class="form-check-input centered-radio"></td>
								</tr>
								<tr>
									<td colspan="6"><strong>2. 강의 방식: 강의 방식이 이해하기 쉽고
											효과적인가요?</strong></td>
									<td><input type="radio" name="evList[2]" value="5"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[2]" value="4"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[2]" value="3"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[2]" value="2"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[2]" value="1"
										class="form-check-input centered-radio"></td>
								</tr>
								<tr>
									<td colspan="6"><strong>3. 강사의 역량: 강사는 전문적이고
											열정적으로 강의를 진행하나요?</strong></td>
									<td><input type="radio" name="evList[3]" value="5"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[3]" value="4"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[3]" value="3"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[3]" value="2"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[3]" value="1"
										class="form-check-input centered-radio"></td>
								</tr>
								<tr>
									<td colspan="6"><strong>4. 교재: 교재가 적절하고 이해하기 쉽나요?</strong></td>
									<td><input type="radio" name="evList[4]" value="5"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[4]" value="4"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[4]" value="3"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[4]" value="2"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[4]" value="1"
										class="form-check-input centered-radio"></td>
								</tr>
								<tr>
									<td colspan="6"><strong>5. 성적 평가: 성적 평가 방식이 적절하고
											공정한가요?</strong></td>
									<td><input type="radio" name="evList[5]" value="5"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[5]" value="4"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[5]" value="3"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[5]" value="2"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[5]" value="1"
										class="form-check-input centered-radio"></td>
								</tr>
								<tr>
									<td colspan="6"><strong>6. 학습환경: 수업시간, 장소, 시설 등이
											만족스러운가요?</strong></td>
									<td><input type="radio" name="evList[6]" value="5"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[6]" value="4"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[6]" value="3"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[6]" value="2"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[6]" value="1"
										class="form-check-input centered-radio"></td>
								</tr>
								<tr>
									<td colspan="6"><strong>7. 전반적인 만족도: 전반적으로 강의에
											만족하나요?</strong></td>
									<td><input type="radio" name="evList[7]" value="5"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[7]" value="4"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[7]" value="3"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[7]" value="2"
										class="form-check-input centered-radio"></td>
									<td><input type="radio" name="evList[7]" value="1"
										class="form-check-input centered-radio"></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger light"
						data-bs-dismiss="modal">Close</button>
					<input type="button" class="btn light btn-primary" id="evalBtn"
						value="제출" />
				</div>
			</div>
			<form action="/lecture/eval/${lecCode}" id="evalSubmit" method="post">
				<input type="hidden" name="evList" id="evList">
			</form>
		</div>
	</div>
</body>
<script>
	$(function() {
		var evalBtn = $('#evalBtn');
		var lecCode = 'sPdGrwaN';
		evalBtn.on("click", function() {
			var evList = [];
			for (var i = 1; i <= 7; i++) {
				var evVal = $('input[name="evList[' + i + ']"]:checked').val();
				if (!$('input[name="evList['+i+']"]:checked').length) {
				    // alert 띄우기
				      Swal.fire({
					      icon: 'warning',
					      title: '답변하지 않은 항목이 있습니다.',
					      text: i + '번째 항목에 답변하지 않았습니다.',
					    });
				    // 함수 종료
				    return;
				  }
				evList.push(evVal);
			 }
			$("#evList").val(evList);
			console.log("evList", $("#evList").val());
			$('#evalSubmit').submit();
		});
	});
</script>
</html>